close all; clear; clc;

load('beads_TwIST_result');

bp_reobj1 = reobj_raw(:,:,1);
bp_reobj2 = reobj_raw(:,:,2);
temp = abs(bp_reobj1);
bp_reobj1 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));
temp = abs(bp_reobj2);
bp_reobj2 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));

figure; imshow(abs(bp_reobj1),[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('bp_reobj1.png','-dpng','-r300');
figure; imshow(abs(bp_reobj2),[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('bp_reobj2.png','-dpng','-r300');

twist_reobj1 = reobj_deconv(:,:,1);
temp = abs(twist_reobj1);
twist_reobj2 = reobj_deconv(:,:,2);
temp = abs(twist_reobj2);
twist_reobj1 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));
twist_reobj2 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));
temp1 = abs(bp_reobj1);
temp2 = abs(bp_reobj2);
bp_reobj1 = (temp1-min(temp1(:)))/(max(temp1(:))-min(temp1(:)));
bp_reobj2 = (temp2-min(temp1(:)))/(max(temp1(:))-min(temp1(:)));


figure; imshow(abs(twist_reobj1),[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('twist_reobj1.png','-dpng','-r300');
figure; imshow(abs(twist_reobj2),[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('twist_reobj2.png','-dpng','-r300');

load('blind_tikreg_recon');
tikreg_reobj1 = imresize(reobj2, [512 512]);
tikreg_reobj2 = imresize(reobj1, [512 512]);
temp = abs(tikreg_reobj1);
tikreg_reobj1 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));
temp = abs(tikreg_reobj2);
tikreg_reobj2 = (temp-min(temp(:)))/(max(temp(:))-min(temp(:)));

figure; imshow(tikreg_reobj1,[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('tikreg_reobj1.png','-dpng','-r300');
figure; imshow(tikreg_reobj2,[],'Border','tight', 'InitialMagnification', 100);  colormap(hot);%#    a border at full magnification
set(gca,'LooseInset',get(gca,'TightInset')); print('tikreg_reobj2.png','-dpng','-r300');

% print -depsc2 -tiff -r300 -painters tikreg_reobj.eps

% load('blind_gpsr_recon');
% gpsr_reobj1 = reobj1;
% gpsr_reobj2 = reobj2;
% 
% figure;title('GPSR');
% colormap(hot);
% subplot(211), imagesc([-0.75 0.75],[-0.75 0.75], (reobj1)); title('Top','FontSize',12); xlabel('(cm)'); ylabel('(cm)'); axis equal tight; 
% subplot(212), imagesc([-0.75 0.75],[-0.75 0.75], (reobj1)); title('Bottom','FontSize',12); xlabel('(cm)'); ylabel('(cm)'); axis equal tight;
% print('-depsc2', '-loose', 'gpsr_reobj.eps');

% load('blind_recon');
% figure;title('Blind');
% axis equal tight;
% colormap(hot);
% subplot(211), imagesc([-0.75 0.75],[-0.75 0.75], (reobj1)); title('Top','FontSize',12); xlabel('(cm)'); ylabel('(cm)'); axis equal tight;
% subplot(212), imagesc([-0.75 0.75],[-0.75 0.75], (reobj1)); title('Bottom','FontSize',12); xlabel('(cm)'); ylabel('(cm)'); axis equal tight;
% print('-depsc2', '-loose', 'blind_reobj.eps');

% load('blind_tval3_recon');
% tval3_reobj1 = reobj1;
% tval3_reobj2 = reobj2;


